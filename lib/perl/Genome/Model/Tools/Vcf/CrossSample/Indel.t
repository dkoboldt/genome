#!/usr/bin/perl

BEGIN { 
    $ENV{UR_DBI_NO_COMMIT} = 1;
    $ENV{UR_USE_DUMMY_AUTOGENERATED_IDS} = 1;
}

use strict;
use warnings;

use above "Genome";
use Test::More;
use Genome::Model::Tools::Vcf::CrossSample::TestHelpers qw(
    test_indel_cmd
);

my $VERSION = 2;
my $use_mg = 0;
my $region_limiting = 0;
subtest 'no mg, no region limit' => sub { test_indel_cmd($VERSION, $use_mg, $region_limiting); };

$use_mg = 1;
subtest 'with mg, no region limit' => sub { test_indel_cmd($VERSION, $use_mg, $region_limiting); };

$region_limiting = 1;
subtest 'with mg, with region limit' => sub { test_indel_cmd($VERSION, $use_mg, $region_limiting); };

$use_mg = 0;
subtest 'no mg, with region limit' => sub { test_indel_cmd($VERSION, $use_mg, $region_limiting); };

done_testing;
